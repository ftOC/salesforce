<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>CQ_value_required_for_Approval_Stages</fullName>
    <active>true</active>
    <description>CQ value required for certain Approval Stages</description>
    <errorConditionFormula>AND (NOT(ISCHANGED(CQ_No_of_Sales_Orders__c )), 
OR( ISPICKVAL( Apttus_Proposal__Approval_Stage__c , &apos;Approved&apos;), 
ISPICKVAL( Apttus_Proposal__Approval_Stage__c , &apos;Accepted&apos;), 
ISPICKVAL( Apttus_Proposal__Approval_Stage__c , &apos;Closed (Won)&apos;)) , 
OR(ISNULL( CQ_Value__c ), CQ_Value__c &lt; 0.0 ),
NOT($Permission.CQ_Business_admin),
$Profile.Name &lt;&gt; &apos;Data Loader Profile&apos;,
$Profile.Name &lt;&gt; &apos;Integration API Only Profile&apos;,
CONTAINS(Quote_Type__c, &apos;CQ&apos;),
CQ_isRebid_Done__c = False )</errorConditionFormula>
    <errorMessage>The &quot;CQ Value&quot; is required if &quot;Approval Stage&quot; = &quot;Approved&quot;, &quot;Accepted&quot;, or &quot;Closed (Won)&quot;</errorMessage>
</ValidationRule>
