<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Select_Valid_Maintenance_Type_at_Quote</fullName>
    <active>false</active>
    <errorConditionFormula>AND(
OR( AND(CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Bronze&apos;) ,
CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;AED&apos;)),

AND(OR(TEXT(NokiaCPQ_Portfolio__c)=&apos;IP Routing&apos;,TEXT(NokiaCPQ_Portfolio__c)=&apos;Optics&apos;,TEXT(NokiaCPQ_Portfolio__c)=&apos;Fixed Access - FBA&apos;),
NOT CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;Brand&apos;),NOT CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;AED&apos;),
OR(CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Advanced&apos;),CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Gold (Return for Repair)&apos;))),

AND(TEXT(NokiaCPQ_Portfolio__c)=&apos;Fixed Access - POL&apos;,
NOT CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;Brand&apos;),NOT CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;AED&apos;),
OR(CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Advanced&apos;),CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Gold (Return for Repair)&apos;),CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Bronze&apos;))),

AND(AND(CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;Brand&apos;),NOT CONTAINS(NokiaCPQ_Maintenance_Accreditation__r.Pricing_Accreditation__c, &apos;AED&apos;)),
OR(CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Advanced&apos;),CONTAINS(TEXT(NokiaCPQ_Maintenance_Type__c), &apos;Bronze&apos;)))

),
Quote_Type__c = $Label.IndirectCPQ,
OR(
TEXT(Apttus_Proposal__Approval_Stage__c) = &apos;Draft&apos;,
TEXT(Apttus_Proposal__Approval_Stage__c) = &apos;Approval Required&apos;
)
)</errorConditionFormula>
    <errorDisplayField>NokiaCPQ_Maintenance_Type__c</errorDisplayField>
    <errorMessage>Please select a valid maintenance type for your level of accreditation in this portfolio</errorMessage>
</ValidationRule>
