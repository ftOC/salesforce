require=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return r(n||e)},d,d.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){(function(t,n,i,r,a,o,s,u,c){initI18n(enLocale.event_home);var d=e("./handler"),l=e("common_api");$(document).ready(function(){var e=function(){d.init(),setupUiI18n()};"undefined"!=typeof jiffle?l.sfdcHandler.EventInit(function(){envDetails.currentUser.active?e():$(".notification-modal").notificationModal({"class":"red",timeout:!0,body:i18n.t("inactive_profile"),title:i18n.t("info")})}):e()}),Handlebars.registerHelper("compare_text",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("compare_text_negation",function(e,t,n){return e!=t?n.fn(this):n.inverse(this)})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/Event/app.js","/app/scripts/Event")},{"./handler":4,_process:11,buffer:9,common_api:"common_api"}],2:[function(e,t,n){(function(n,i,r,a,o,s,u,c,d){$(document).ready(function(){initI18n(Object.assign({},enLocale.consent,enLocale.opt_in_messages)),$("#accept_consent_form").validate({errorElement:"div",highlight:function(e,t){$(e).parent().addClass("has-error")},success:function(e,t){$(t).parent().removeClass("has-error")},rules:{consent:{required:!0}},messages:{consent:{required:i18n.t("register_user_consent_missing_message")}}}),setupUiI18n()});var l=e("common_api");t.exports=function(e){$('#accept_consent_form input[name="consent"]').siblings("label").html(e.logged_in_consent_message),$("#accept_consent_form").on("submit",function(e){e.preventDefault();var t=$(e.currentTarget);if(t.valid()){var n=l.update({url:l.ENDPOINTS.portal+l.ENDPOINTS.give_consent,data:t.serializeObject()});n.then(function(e){200===e.status&&window.location.reload()}.bind(this)),n[n.fail?"fail":"catch"](function(e){console.log(e)}.bind(this))}})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/Consent/app.js","/app/scripts/Consent")},{_process:11,buffer:9,common_api:"common_api"}],3:[function(e,t,n){(function(e,n,i,r,a,o,s,u,c){var d=Reflux.createActions(["listEvents","addUserToEvent","addNewLocation","getActivities","updateEventList","getActivityManagerInfo","updateEventUrl","fetchEventConfigs"]);t.exports=d}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/Event/actions.js","/app/scripts/Event")},{_process:11,buffer:9}],4:[function(e,t,n){(function(n,i,r,a,o,s,u,c,d){var l=e("./actions"),f=e("./store"),p=function(){var e=$("#company-home"),t=$("#js-location-container"),n=$("#js-onGoingSales-container"),i=$("#meeting_type_list"),r=$(".notification-modal"),a=$("#select_activity"),o=$("#add-location-modal"),s="Tracks and Sessions",u={failure:function(e){r.notificationModal({"class":"red",timeout:!0,body:e.errors.join(","),title:i18n.t("failure")})},successListEvents:function(e){var i=e.events,r=_.partition(i,function(e){return"OngoingSales"===e.event_type});if(r[0].length){var a=m(r[0]);n.removeClass("hide"),$("#onGoingSales-list").html(a.template),p(a,$("#onGoingSales-list-content"))}var o=m(r[1]);if($("#event-list").html(o.template),p(o,$("#event-list-content")),e.ebc_events&&e.ebc_events.length){var s=m(_.first(e.ebc_events),!0);t.removeClass("hide"),$("#location-list").html(s.template),p(s,$("#location-list-content"))}e.events.map(function(e){"StaffScheduling"===e.event_type&&l.getActivityManagerInfo(e.event_system_name,"onUpdateActivity")})},successAddUserToEvent:function(e){if(e.options.redirectUrl)commons.redirectPage(e.options.redirectUrl);else if(r.notificationModal({timeout:!0,"class":"green",title:i18n.t("map_event_success_title"),body:e.response.message}),e.options.mountNode){var t=Handlebars.partials["event/_event_card"],n=_.first(e.response.data.events[envDetails.currentUser.uuid]);if(l.updateEventList(n),e.options.addToLocation&&n.locations instanceof Array){var i=g(_.first(n.locations),n);i.isEBC=!0,t=t(i)}else t=t(g(n));e.options.mountNode.html(t),"StaffScheduling"===n.event_type&&l.getActivityManagerInfo(n.event_system_name,"onUpdateActivity")}},successAddNewLocation:function(e){r.notificationModal({"class":"green",timeout:!0,body:i18n.t("add_location_success_msg"),title:i18n.t("success")}),window.location.reload()},userActivitiesSuccess:function(e){var t=e.event;t.activity_attributes=e.activities.meeting_types;var n=g(t,null),o=n.activities;if(n.show_overlay)i.html(o),a.modal({backdrop:!1});else if(o){var s=t.activity_attributes[0].redirect_url;"undefined"!=typeof jiffle&&(s="activity_uuid="+n.activity_uuid,s+="&source="+n.source,s=h(n.action_url,s)),commons.redirectPage(s)}else r.notificationModal({"class":"red",timeout:!0,body:i18n.t("no_meeting_types"),title:i18n.t("info")})},onUpdateActivity:function(e){var t=e.data.activity,n=$('.user_event_action[data-uuid="'+e.uuid+'"]');n.text(t.label);n.data("isreadonly");n.data("action",t.key),"SCHEDULE_ACTIVITY_ACTION"===t.key&&l.updateEventUrl(e.uuid,t.url)},renderPreconditions:function(e){var t=e.apiResponse,n=e.eventSystemName,i=e.locationUuid,r={enable_topic:t.topic_management_enabled};window.renderPreconditionsPopup.render($("#precondition-cont"),{settings:r,eventSystemName:n,openPreconditions:!0,locationUuid:i})}};function c(e){var t=$(this).closest(".react-goto-btn"),n={element:t[0],uuid:t.data("uuid"),systemName:t.data("event-system-name"),locationUuid:t.data("current-location-uuid")};window.renderGotoPageBtn(t[0],n)}function d(e){e.preventDefault(),e.stopPropagation();var t=$(e.target).closest(".activity"),n=t.data("redirect-url");"undefined"!=typeof jiffle&&(n=t.data("url")),n&&commons.redirectPage(n)}function p(e,t){e.jumpIndex&&t.scrollLeft(t.find(".event-list-item").width()*e.jumpIndex-50)}function m(e,t){var n=HandlebarsTemplates["event/event_list"],i=t?e:null,r=function(e){for(var t=(new Date).getTime(),n=0,i=0,r=e.length;i<r;i++){var a=e[i],o=new Date(a.end_date).getTime()+864e5;if(o-t>=0){n=i;break}}return{events:e,jumpIndex:n}}(t?e.locations:e),a=r.events.map(function(e){return g(e,i)}),o=t&&envDetails.isCSM();return{jumpIndex:r.jumpIndex,template:n({events:a,isEBC:t,showAddButton:o})}}function h(e,t){var n="",i=e.indexOf("#")>=0,r=e.indexOf("?")>=0?"&":"?";if(i){var a=e.split("#");(n=a[1])&&(e=a[0],n="#"+n)}return(t?e+r+t:e)+n}function g(e,t){var n,i="",r="",a=e.action.key,o=e.action.name,u=e.status||"",c=e.event_read_only,d="LAUNCHED"!==u,l=e.event_url||t.event_url,f=moment(e.end_date).isBefore(moment())?"btn-gray":"btn-blue",p=d?moment(e.start_date).utc()._d.toLongRange(moment(e.end_date).utc()._d):"";e.locations&&e.locations.length&&(i="current_location_uuid="+_.first(e.locations).uuid),t&&(i="current_location_uuid="+e.uuid,r=e.uuid),r||(r=e.locations.length&&e.locations[0].uuid||""),l=h(l,i),n=h(e.action.url,i),e.activity_attributes.map(function(t){var r=n,a="activity_uuid="+t.uuid;"undefined"!=typeof jiffle&&(a+="&source="+t.source,t.meeting_type_master_name===s&&(r=h(e.action.tracks_and_sessions_url,i))),t.meeting_url=h(r,a)});var m=(0,HandlebarsTemplates["meeting/meeting-type-list"])({meetingTypes:e.activity_attributes}),g={shouldBlockMeeting:e.should_block_meetings,blockMessage:e.block_meetings_message,event_url:l,action_url:n,event_uuid:e.uuid,activities:m,location:e.location,action_class:f,isreadonly:c,event_period:p,event_system_name:e.event_system_name,event_name:e.event_name,event_type:e.event_type,current_location_uuid:r,show_overlay:e.activity_attributes.length>1,activity_uuid:1===e.activity_attributes.length?e.activity_attributes[0].uuid:"",event_status:u.toLowerCase(),action:{name:o,key:a},show_meta:e.show_meta||!d,banner_url:e.banner_url+"?t="+(new Date).valueOf(),metadata:d?e.metadata:e.event_system_name};if("undefined"!=typeof jiffle&&1===e.activity_attributes.length&&(g.source=e.activity_attributes[0].source,e.activity_attributes[0].meeting_type_master_name===s&&(g.action_url=h(e.action.tracks_and_sessions_url,i))),t){var v=t,y={location:e.city,event_type:v.event_type,event_name:v.event_name,metadata:e.metadata};g=_.assign(g,y)}return g}function v(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("action"),n="ADD_TO_LOCATION_ACTION"===t||"ADD_SELF_TO_LOCATION_ACTION"===t;if("VIEW_ACTIVITY_ACTION"!==t){if("ADD_SELF_TO_EVENT_ACTION"===t||"ADD_TO_EVENT_ACTION"===t||n){var i=$(e.currentTarget).parents(".event-list-item").first();l.addUserToEvent($(this).data("href"),{mountNode:i,addToLocation:n})}else if("SCHEDULE_ACTIVITY_ACTION"===t){var a=$(this).data(),o=a.eventType,s=a.shouldBlockMeeting,u=a.blockMessage;if(s)return void r.notificationModal({"class":"red",timeout:!0,body:u,title:i18n.t("sorry")});var c=o.toLowerCase();if("ebc"===c)commons.redirectPage($(this).data("href"));else{var d=$(this).data("uuid"),f=$(this).data("current-location-uuid");"ongoingsales"===c||"tradeshow"===c?l.fetchEventConfigs(d,f,"renderPreconditions"):l.getActivities(d)}}}else commons.redirectPage($(this).data("href"))}function y(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("action"),n=$(this).data("url"),i=$(this).data("map"),a="ADD_TO_LOCATION_ACTION"===t||"ADD_SELF_TO_LOCATION_ACTION"===t;if(0==!("ADD_SELF_TO_EVENT_ACTION"===t||"ADD_TO_EVENT_ACTION"===t||a)){var o=a?"Briefing Center":"event";r.notificationModal({"class":"blue",type:"confirmation",title:i18n.t("add_user_to_event_confirm_header"),body:i18n.t("add_user_to_event_confirm",{type:o}),done:function(){l.addUserToEvent(i,{redirectUrl:n,addToLocation:a})}})}else window.commons.redirectPage(n)}function w(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest("form");t.valid()&&(l.addNewLocation(t.find("#newLocationName").val().trim()),o.modal("hide"))}function b(){o.find("form")[0].reset()}return{init:function(){f.listen(function(e){var t=u[e.type];t&&t(e.data)}),i.on("click",d),e.on("click",".user_event_action",v),e.on("click",".event-clickable-space",y),$("#add-location-modal").on("click",".js-add-location",w),o.on("hide.bs.modal",b),l.listEvents(),e.on("click",".html-goto-btn",c)}}}();t.exports=p}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/Event/handler.js","/app/scripts/Event")},{"./actions":3,"./store":5,_process:11,buffer:9}],5:[function(e,t,n){(function(n,i,r,a,o,s,u,c,d){var l=e("./actions"),f=e("common_api"),p=Reflux.createStore({init:function(){this.listenToMany(l),this.events=[]},onListEvents:function(){var e=f.fetch({url:f.ENDPOINTS.users_events});e.then(function(e){this.trigger({data:e.data,type:"successListEvents"}),this.events=e.data.events,this.ebcEvents=e.data.ebc_events}.bind(this)),e[e.fail?"fail":"catch"](function(e){this.trigger({type:"failure",data:e.responseJSON||e})}.bind(this))},onFetchEbcEventByProperty:function(e,t){var n=this.ebcEvents[0].locations;return _.find(n,function(n){return e==n[t]})},onFetchEventByProperty:function(e,t){return _.find(this.events,function(n){return e==n[t]})},onGetActivities:function(e){var t=this.onFetchEventByProperty(e,"uuid"),n={prefix:"/"+t.event_system_name,url:f.ENDPOINTS.fetch_activities};if("undefined"!=typeof jiffle){var i="";$.urlParam("accid")?i="accFlow":$.urlParam("lead_ids")&&(i="leadFlow"),n.data={source:i}}var r=f.fetch(n);r.then(function(e){this.trigger({data:{activities:e.data,event:t},type:"userActivitiesSuccess"})}.bind(this)),r[r.fail?"fail":"catch"](function(e){this.trigger({type:"failure",data:e.responseJSON||e})}.bind(this))},onGetActivityManagerInfo:function(e,t){var n=this.onFetchEventByProperty(e,"event_system_name"),i=_.cloneDeep(f.ENDPOINTS.fetch_activity_manager);f.fetch({url:f.replaceUrlParams(i,["{{uuid}}",n.uuid])}).then(function(e){this.trigger({type:t,data:{data:e.data,uuid:n.uuid}})}.bind(this))},onUpdateEventUrl:function(e,t){_.find(p.events,function(t){return t.uuid===e}).action.url=t},onUpdateEventList:function(e){var t=_.findIndex(this.events,function(t){return t.uuid==e.uuid});this.events[t]=e},onAddUserToEvent:function(e,t){var n=$.urlParam("current_location_uuid",e),i={current_location_uuid:n};t.addToLocation&&(i.locations=n);var r=f.update({data:i,url:e.split("?")[0],sfdc_method:"add_user_to_event"});r.then(function(e){this.trigger({type:"successAddUserToEvent",data:{options:t,response:e}})}.bind(this)),r[r.fail?"fail":"catch"](function(e){this.trigger({type:"failure",data:e.responseJSON||e})}.bind(this))},onAddNewLocation:function(e){var t={location:{name:e}},n=f.update({data:t,url:f.ENDPOINTS.add_new_location.replace("{event_uuid}",envDetails.ebc_locations[0].event_uuid)});n.then(function(e){this.trigger({type:"successAddNewLocation",data:e.data})}.bind(this)),n[n.fail?"fail":"catch"](function(e){this.trigger({type:"failure",data:e.responseJSON||e})}.bind(this))},onFetchEventConfigs:function(e,t,n){var i=this.onFetchEventByProperty(e,"uuid"),r={prefix:"/"+i.event_system_name,url:"/topic_configurations?current_location_uuid="+t},a=f.fetch(r);a.then(function(e){this.trigger({data:{apiResponse:e.data,eventSystemName:i.event_system_name,locationUuid:t},type:n})}.bind(this)),a[a.fail?"fail":"catch"](function(e){this.trigger({type:"failure",data:e.responseJSON||e})}.bind(this))}});t.exports=p}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/Event/store.js","/app/scripts/Event")},{"./actions":3,_process:11,buffer:9,common_api:"common_api"}],6:[function(e,t,n){(function(e,n,i,r,a,o,s,u,c){var d;function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(l(d={system_configurations:"/configurations/system_configuration",fetch_survey_template:"/configure/consolidated_survey_mail_settings",update_survey_template:"/configure/consolidated_survey_mail_setting",fetch_meeting_list_customer_info:"/importable_customer_info/list",fetch_customer_info_values:"/importable_customer_info",fetch_archived_event_meeting_analytics:"/archived_events/analytics",fetch_archived_events_list:"/event_list_by_type/archived",fetch_archived_reports:"/archived_events/all_reports",get_booth_tour_details:"/booth_tour/list",file_upload_url:"/attachment/{type}",remove_uploaded_file_url:"/attachment/{uuid}",update_endorsement_config:"/configure/endorsement",ext_domain_validation:"/domains/valid",list_briefings_agenda:"/briefing/list_briefings#/list_agenda",users:"/users",fetch_unmapped_topic_entity:"/get_meetings_with_unmapped_topic_entity",meeting_host_count:"/get_meetings_with_meeting_host",fetch_user_details:"/users/{{uuid}}",user_export:"/user/export",activate_user:"/users/UUID/active",reinvite_user:"/users/resend_invite",export_summary_report:"/guided_tour/surveys",upload_user_csv:"/user/import",calendar_user_availability:"/calendar/users",event_info:"/event_info",event_configurations:"/event/{event_uuid}/configurations",user_make_available:"/calendar/make_available",user_make_unavailable:"/calendar/make_unavailable",user_block:"/calendar/block",user_unblock:"/calendar/unblock",block_update:"/calendar/edit_block",user_calendar_export:"/calendar/users/export",company_fetch:"/company",register_user:"/register",alert_fetch:"/alerts",alert_details_fetch:"/alerts/meeting_meta",dismiss_alert:"/alerts/dismiss",notification_fetch:"/notifications",dismiss_notification:"/notifications/dismiss",set_participation:"/meeting_request/set_participation",fetch_topics:"/topics",update_user_profile:"/user/{{uuid}}",fetch_meetings_analytics:"/analytics/meetings",fetch_invitees_analytics:"/analytics/invitees",fetch_customers_analytics:"/analytics/customers",fetch_roles_analytics:"/analytics/roles",users_events:"/users_events",reinvite_users:"/users/resend_invite",remove_from_event:"/users/UUID/inactive",users_events_filters:"/users_events_filters",meeting_request_path:"/meeting_request/new",meeting_request_view_path:"/meeting_request/{uuid}/view",meeting_request_export:"/meeting_request/export",roles_fetch:"/roles",role_create:"/role/create",role_update:"/role/update",role_get_privileges:"/role/{:uuid}/get_privileges",role_set_privileges:"/role/{:uuid}/set_privileges",role_enable:"/role/{:uuid}/enable",role_disable:"/role/{:uuid}/disable",meeting_get_config:"/configure/{:uuid}/meeting_type",meeting_set_config:"/configure/{:uuid}/meeting_type_update",meeting_set_setting:"/setting/activity_update",meeting_get_settings:"/setting/activity",meeting_types:"/meeting_types",ui_set_setting:"/setting/ui_update",ui_get_settings:"/setting/ui",get_announcements:"/setting/announcement",set_announcements:"/setting/announcement_update",availability_fetch:"/meeting_type/availabilities",availability_update:"/configure/update_initial_availabilities",all_meeting_types:"/meeting_types/index"},"event_info","/events"),l(d,"event_details","/event_info"),l(d,"rooms_list","/rooms/list"),l(d,"rooms_export","/room/export"),l(d,"room_create","/room/create"),l(d,"room_update","/room/update"),l(d,"meetings_list","/meeting_requests"),l(d,"facilities_list","/facilities"),l(d,"meeting_availability","/meeting_request/calendar"),l(d,"internal_attendees","/users/internal"),l(d,"external_attendees","/users/external"),l(d,"lead_details","/lead_details"),l(d,"validate_leads","/validate_leads"),l(d,"availability_update","/configure/update_initial_availabilities"),l(d,"calendar_availability","/meeting_request/calendar"),l(d,"meeting_create","/meeting_request/create"),l(d,"meeting_fetch","/meeting_request/{{uuid}}/show"),l(d,"user_create","/user/create"),l(d,"sync_att_to_sfdc","/sync_att_to_sfdc"),l(d,"validate_room_capacity","/room/validate"),l(d,"user_update","/users/{{uuid}}/update"),l(d,"update_mail_template","/mail_template/update"),l(d,"mail_template_type_get","/mail_actions"),l(d,"mail_template_type_entities_get","/mail_action/get_associated_entities"),l(d,"accept_meeting","/meeting_request/{uuid}/accept_meeting"),l(d,"decline_meeting","/meeting_request/{uuid}/decline_meeting"),l(d,"reschedule_meeting","/meeting_request/reschedule"),l(d,"events_info","/events"),l(d,"event_config","/event/configurations"),l(d,"room_availability","/calendar/rooms"),l(d,"room_calendar_export","/calendar/rooms/export"),l(d,"room_unblock","/calendar/unblock"),l(d,"room_make_available","/calendar/make_available"),l(d,"room_make_unavailable","/calendar/make_unavailable"),l(d,"block_update","/calendar/edit_block"),l(d,"meeting_drag","/calendar/relocate"),l(d,"meeting_request_path","/meeting_request/new"),l(d,"meeting_request_edit_path","/meeting_request/{uuid}/edit"),l(d,"upload_room_csv","/room/import"),l(d,"save_form","/custom_form/update"),l(d,"fetch_form","/custom_form/get_fields"),l(d,"alert_fetch","/alerts"),l(d,"alert_details_fetch","/alerts/meeting_meta"),l(d,"dismiss_alert","/alerts/dismiss"),l(d,"dismiss_alert","/alerts/dismiss"),l(d,"notification_fetch","/notifications"),l(d,"dismiss_notification","/notifications/dismiss"),l(d,"fetch_meetings_analytics","/analytics/meetings"),l(d,"fetch_invitees_analytics","/analytics/invitees"),l(d,"fetch_customers_analytics","/analytics/customers"),l(d,"fetch_roles_analytics","/analytics/roles"),l(d,"fetch_rooms_analytics","/analytics/rooms"),l(d,"fetch_booking_analytics","/analytics/booking"),l(d,"fetch_meeting_filters","/reports/meeting_filters"),l(d,"fetch_meeting_data_for_reports","/users/meetings"),l(d,"standard_report_export_url","/users/meetings.pdf?user_uuid={{uuid}}"),l(d,"fetch_users_for_reports","/reports/users_list"),l(d,"fetch_meeting_reports","/meetings"),l(d,"fetch_meeting_reports_header","/headers"),l(d,"activate_event","/event/activate"),l(d,"fetch_activity_list","/activities"),l(d,"cancel_meeting","/meeting_request/{meeting_uuid}/cancel_meeting"),l(d,"time_zone_url","/time_zone"),l(d,"fetch_minimum_timeslot","/setting/minimum_timeslot"),l(d,"update_minimum_timeslot","/setting/minimum_timeslot_update"),l(d,"demand_report_export","/meeting_request/ondemand"),l(d,"mapped_events","/mappable_events"),l(d,"get_nav_header","/events_meetings_menu"),l(d,"fetch_account","/fetch_account"),l(d,"fetch_opportunity","/fetch_opportunity"),l(d,"fetch_meeting_info","/meeting_request/new.json"),l(d,"fetch_edit_meeting_info","/meeting_request/{UUID}/edit.json"),l(d,"fetch_view_meeting_info","/meeting_request/{UUID}/view.json"),l(d,"fetch_edit_nomination_info","/nomination/{UUID}/edit.json"),l(d,"fetch_view_nomination_info","/nomination/{UUID}/view.json"),l(d,"room_activities","/activities_rooms"),l(d,"event_env_details","/event_info"),l(d,"fetch_requestors","/fetch_requestors"),l(d,"domain_validate","/portal/domains/validate"),l(d,"fetch_sf_custom_fields","SFDC"),l(d,"double_booked_resources","/meeting_request/double_booked_resources"),l(d,"meetings_list_filters","/meeting_request/meeting_filters"),l(d,"get_meeting_options","/meeting_filters/filter_options"),l(d,"get_checkin_options","/checkin_filters/filter_options"),l(d,"get_report_options","/reports_filters/filter_options"),l(d,"user_info","/portal/user_info"),l(d,"bulk_approve_meetings","meeting_request/approve_meetings"),l(d,"activity_details","/activities/{uuid}"),l(d,"expert_users","/mapping/experts"),l(d,"expert_users","/mapping/experts"),l(d,"apex_jnmeetings","/apex/JNMeetings"),l(d,"apex_jnsessions","/apex/JNSessions"),l(d,"jn_book_meeting","/apex/JNBookMeeting"),l(d,"jn_view_book_meeting","/apex/JNViewMeeting"),l(d,"jn_view_nomination","/apex/JNNominationView"),l(d,"jn_book_nomination","/apex/JNNominations"),l(d,"apex_jnlistagenda","/apex/JNBriefings"),l(d,"sessions_list","/sessions"),l(d,"fetch_user_form_rules","/user_form_fields"),l(d,"save_profile_preferences","/user_form_fields/update"),l(d,"fetch_portal_custom_form","/forms"),l(d,"save_portal_custom_form","/form/update"),l(d,"portal","/portal"),l(d,"consecutive_meetings_edit_path","/consecutive_meetings/{uuid}/edit"),l(d,"consecutive_meetings_view_path","/consecutive_meetings/{uuid}/view"),l(d,"consecutive_meetings_details","/consecutive_meetings/{uuid}/edit_consecutive_meeting"),l(d,"bulk_endorse_users","/users/enable_endorse_users"),l(d,"fetch_external_user_form_fields","/fetch_sfdc_contacts_fields"),l(d,"get_swappable_room_list","/swap_room/list"),l(d,"swap_room_submit","/swap_room/swap"),l(d,"fetch_consecutive_meeting_notification_settings","/configure/consecutive_meeting/notification_settings"),l(d,"fetch_consecutive_meeting_form_settings","/configure/consecutive_meeting/form_settings"),l(d,"create_consecutive_meetings","/consecutive_meetings"),l(d,"meeting_types_of_consecutive_sub_meetings","/consecutive_meetings/meeting_types"),l(d,"on_behalf_actions","/meeting_request/on_behalf_actions"),l(d,"briefing_centre","/bc"),l(d,"briefing_details","/briefing/{briefing_uuid}"),l(d,"briefing_centre_long_day","/bcs/get_long_day"),l(d,"fetch_valid_mapping_Times","/mappings_valid_start_times"),l(d,"meeting_history","/meeting_request/{uuid}/history"),l(d,"fetch_activities","/user_meeting_types/list"),l(d,"tracks_list","/tracks"),l(d,"fetch_track_topics","/tracks/{{uuid}}/topics"),l(d,"can_attend_session","/can_attend_session"),l(d,"create_group_nomination","/group_nomination/create"),l(d,"fetch_contacts","/fetch_contacts"),l(d,"resources_session_availability","/group_nomination/can_attend"),l(d,"session_nominations","/group_nominations"),l(d,"check_attendee_availability",{url:"/api/v1/users/{uuid}/availability"}),l(d,"give_consent","/consent.json"),l(d,"room_block","/api/v1/room/interim_block"),l(d,"custom_labels","/custom_labels_configurations"),l(d,"fetch_resource_data","/api/v1/resource_data/fetch"),l(d,"time_zone_city_search","/google/cities"),l(d,"get_city_time_zone","/google/timezone"),l(d,"partial_meeting_update","/meeting_request/partial_update"),l(d,"custom_field_options","/custom_form/{UUID}/search"),d);t.exports=f}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/commons/sfdc/api_endpoints.js","/app/scripts/commons/sfdc")},{_process:11,buffer:9}],7:[function(e,t,n){(function(e,n,i,r,a,o,s,u,c){var d,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f={users_events:{params:function(e){return{accountId:$.urlParam("accid"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[]}},callback:function(e){return _.forEach(e.data.events,function(e){e.event_url=unescape(e.event_url),e.action.url=unescape(e.action.url),e.action.tracks_and_sessions_url=unescape(e.action.tracks_and_sessions_url)}),e.data.ebc_events&&e.data.ebc_events.length&&_.forEach(e.data.ebc_events,function(e){e.event_url=unescape(e.event_url),e.locations&&e.locations.length&&_.forEach(e.locations,function(e){e.action.url=unescape(e.action.url)})}),e},sfdcMethod:"getEventList"},add_user_to_event:{params:function(e){return{accountId:$.urlParam("accid"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[],queryStr:JSON.stringify({api_params:e.data})}},callback:function(e){return _.forEach(e.data.events,function(e){var t=_.first(e);t.event_url=unescape(t.event_url),t.action.url=unescape(t.action.url),t.locations&&t.locations.length&&_.forEach(t.locations,function(e){e.action.url=unescape(e.action.url)})}),e},sfdcMethod:"addYourself"},get_nav_header:{params:function(e){return{accountId:$.urlParam("accid"),eventName:$.urlParam("eventName"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[],current_location_uuid:$.urlParam("current_location_uuid")}},callback:function(e){return _.forEach(e.data.links,function(e){e.url=unescape(e.url)}),e},sfdcMethod:"getMenuList"},fetch_account:{params:function(e){return{accountId:e.data.id?"":e.data.account_id,opportunityId:e.data.opportunity_id||"",accountName:m(e.data.name)}},callback:function(e){return p(e)},sfdcMethod:"getSFAccounts"},fetch_opportunity:{params:function(e){return{opportunityId:e.data.id?"":e.data.opportunity_id,accountId:e.data.account_id,opportunityName:m(e.data.name)}},callback:function(e){return p(e)},sfdcMethod:"getSFOpportunities"},fetch_meeting_info:{params:v,sfdcMethod:"callJNMethod"},fetch_edit_meeting_info:{params:v,sfdcMethod:"callJNMethod"},fetch_view_meeting_info:{params:v,sfdcMethod:"callJNMethod"},fetch_edit_nomination_info:{params:y,sfdcMethod:"callJNMethod"},fetch_view_nomination_info:{params:y,sfdcMethod:"callJNMethod"},lead_details:{params:function(e){var t=e.data,n=[];t.leadIds&&(n=t.leadIds);var i={leadIds:n,listSize:t.per_page,pgNo:t.page,custom_fields:envDetails.extatt_custom_field_mappings,selectedAttendees:t.selectedAttendees};return t.search?i.queryStr=m(t.search):i.queryStr=t.search||"",i},callback:function(e){e="string"==typeof e?JSON.parse(_.unescape(e)):JSON.parse(_.unescape(JSON.stringify(e)));return _.forEach(e.data.items,function(t,n){meetingInfo.externalAttendees[t.email]?w(e,t,n):(t.uuid="dummy_"+Math.random().toString(36).substring(2),t.statuses={verified:!1,active:!0,approved:null,sso_enabled:!1},meetingInfo.externalAttendees[t.email]=_.cloneDeep(t))}),e},sfdcMethod:"getSFDCLeads"},validate_leads:{params:function(e){return{leadIds:e.data.leadIds,isLeadDetail:$.urlParam("isLeadDetail")}},sfdcMethod:"validateLeads"},fetch_contacts:{params:function(e){var t=e.data,n={accountId:(d=t.account_id)||"",listSize:t.per_page,pgNo:t.page,custom_fields:envDetails.extatt_custom_field_mappings,selectedAttendees:t.selectedAttendees,contactIds:t.contactIds};return t.search?n.queryStr=m(t.search):n.queryStr=t.search||"",n},callback:function(e){meetingInfo.account_id!==d&&(meetingInfo.externalAttendees={},meetingInfo.account_id=d);e="string"==typeof e?JSON.parse(_.unescape(e)):JSON.parse(_.unescape(JSON.stringify(e)));return _.forEach(e.data.items,function(t,n){meetingInfo.externalAttendees[t.email]?w(e,t,n):(t.uuid="dummy_"+Math.random().toString(36).substring(2),t.statuses={verified:!1,active:!0,approved:null,sso_enabled:!1},meetingInfo.externalAttendees[t.email]=_.cloneDeep(t))}),e},sfdcMethod:"getSFDCContacts"},calendar_availability:{params:function(e){return{eventName:$.urlParam("eventName"),queryStr:JSON.stringify({api_params:e.data})}},sfdcMethod:"getCalendar"},fetch_sf_custom_fields:{sfdcMethod:"parseCustFields",params:function(e){return{queryStr:JSON.stringify(e.data)}}},fetch_external_user_form_fields:{sfdcMethod:"getConVals",params:function(e){return{queryStr:JSON.stringify(e.data)}}},meetings_list:{sfdcMethod:"getMeetingListdb"},meeting_create:{params:g,sfdcMethod:"createMeeting"},create_group_nomination:{params:g,sfdcMethod:"createMeeting"},reschedule_meeting:{params:g,sfdcMethod:"createMeeting"},partial_meeting_update:{params:g,sfdcMethod:"createMeeting"},user_create:{sfdcMethod:"createAttendee"},sync_att_to_sfdc:{params:function(e){var t=e.data;return{accountId:t.account_id||"",custom_fields:t.customFields,meetingSource:t.meeting_source,opportunityId:t.opportunity_id||""}},sfdcMethod:"syncAttToSFDC"}};function p(e){return"string"!=typeof e&&(e=JSON.stringify(e)),e=e.replace(/%5C/g,"%5C%5C").replace(/%22/g,"%5C%22").replace(/\+/g," "),e=_.unescape(unescape(e)),JSON.parse(e)}function m(e){return escape((e||"").replace(/['"!%^_\[\]]/g,"\\$&"))}function h(e,t){var n="",i=e.includes("/domains/validate")?"":$.urlParam("eventName");return t===undefined||$.isEmptyObject(t)||(n=$.param({api_params:t})),{eventName:i,url:e,queryStr:n}}function g(e){var t={eventName:$.urlParam("eventName"),meetingType:window.masterMeetingType.name.toLowerCase(),queryStr:JSON.stringify({api_params:e.data})},n=e.data.meeting_request;return n&&(t.accountId=n.account_id||"",t.opportunityId=n.opportunity_id||"",t.leadId=n.lead_id||"",t.meetingSource=_.isEmpty(n.lead_id)?"":"Lead"),t}function v(e){return h(e.url.replace("{UUID}",$.urlParam("meeting")),e.data)}function y(e){return h(e.url.replace("{UUID}",$.urlParam("nomination")),e.data)}function w(e,t,n){var i=meetingInfo.externalAttendees[t.email],r=i.uuid,a=i.statuses;meetingInfo.externalAttendees[t.email]=l({},i,t,{uuid:r,statuses:l({},a)}),e.data.items[n]=_.cloneDeep(meetingInfo.externalAttendees[t.email])}t.exports=f}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/commons/sfdc/method_endpoints.js","/app/scripts/commons/sfdc")},{_process:11,buffer:9}],8:[function(e,t,n){(function(e,t,i,r,a,o,s,u,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),a="a".charCodeAt(0),o="A".charCodeAt(0),s="-".charCodeAt(0),u="_".charCodeAt(0);function c(e){var t=e.charCodeAt(0);return t===n||t===s?62:t===i||t===u?63:t<r?-1:t<r+10?t-r+26+26:t<o+26?t-o:t<a+26?t-a+26:void 0}e.toByteArray=function(e){var n,i,r,a,o,s;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;o="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,s=new t(3*e.length/4-o),r=o>0?e.length-4:e.length;var d=0;function l(e){s[d++]=e}for(n=0,i=0;n<r;n+=4,i+=3)l((16711680&(a=c(e.charAt(n))<<18|c(e.charAt(n+1))<<12|c(e.charAt(n+2))<<6|c(e.charAt(n+3))))>>16),l((65280&a)>>8),l(255&a);return 2===o?l(255&(a=c(e.charAt(n))<<2|c(e.charAt(n+1))>>4)):1===o&&(l((a=c(e.charAt(n))<<10|c(e.charAt(n+1))<<4|c(e.charAt(n+2))>>2)>>8&255),l(255&a)),s},e.fromByteArray=function(e){var t,n,i,r,a=e.length%3,o="";function s(e){return d.charAt(e)}for(t=0,i=e.length-a;t<i;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],o+=s((r=n)>>18&63)+s(r>>12&63)+s(r>>6&63)+s(63&r);switch(a){case 1:o+=s((n=e[e.length-1])>>2),o+=s(n<<4&63),o+="==";break;case 2:o+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10),o+=s(n>>4&63),o+=s(n<<2&63),o+="="}return o}}(void 0===n?this.base64js={}:n)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/browserify/node_modules/base64-js/lib/b64.js","/node_modules/browserify/node_modules/base64-js/lib")},{_process:11,buffer:9}],9:[function(e,t,n){(function(t,i,r,a,o,s,u,c,d){"use strict";var l=e("base64-js"),f=e("ieee754"),_=e("isarray");n.Buffer=r,n.SlowBuffer=function z(e,t){if(!(this instanceof z))return new z(e,t);var n=new r(e,t);delete n.parent;return n},n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var p={};function m(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e){return this instanceof r?(r.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=undefined),"number"==typeof e?function(e,t){if(e=g(e,t<0?0:0|v(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}(this,e):"string"==typeof e?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|y(t,n);return(e=g(e,i)).write(t,n),e}(this,e,arguments.length>1?arguments[1]:"utf8"):function(e,t){if(r.isBuffer(t))return function(e,t){var n=0|v(t.length);return e=g(e,n),t.copy(e,0,0,n),e}(e,t);if(_(t))return function(e,t){var n=0|v(t.length);e=g(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return h(e,t);if(t instanceof ArrayBuffer)return function(e,t){r.TYPED_ARRAY_SUPPORT?(t.byteLength,e=r._augment(new Uint8Array(t))):e=h(e,new Uint8Array(t));return e}(e,t)}return t.length?function(e,t){var n=0|v(t.length);e=g(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}(e,t):function(e,t){var n,i=0;"Buffer"===t.type&&_(t.data)&&(n=t.data,i=0|v(n.length)),e=g(e,i);for(var r=0;r<i;r+=1)e[r]=255&n[r];return e}(e,t)}(this,e)):arguments.length>1?new r(e,arguments[1]):new r(e)}function h(e,t){var n=0|v(t.length);e=g(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function g(e,t){return r.TYPED_ARRAY_SUPPORT?(e=r._augment(new Uint8Array(t))).__proto__=r.prototype:(e.length=t,e._isBuffer=!0),0!==t&&t<=r.poolSize>>>1&&(e.parent=p),e}function v(e){if(e>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|e}function y(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return J(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new Error("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+o]=s}return o}function b(e,t,n,i){return H(J(t,e.length-n),e,n,i)}function E(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function I(e,t,n,i){return E(e,t,n,i)}function A(e,t,n,i){return H(Y(t),e,n,i)}function S(e,t,n,i){return H(function(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);o++)n=e.charCodeAt(o),i=n>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function D(e,t,n){return 0===t&&n===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,u,c=e[r],d=null,l=c>239?4:c>223?3:c>191?2:1;if(r+l<=n)switch(l){case 1:c<128&&(d=c);break;case 2:128==(192&(a=e[r+1]))&&(u=(31&c)<<6|63&a)>127&&(d=u);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(d=u);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(d=u)}null===d?(d=65533,l=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=l}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=M));return n}(i)}r.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==undefined?i.TYPED_ARRAY_SUPPORT:function(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}(),r.TYPED_ARRAY_SUPPORT?(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array):(r.prototype.length=undefined,r.prototype.parent=undefined),r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,a=0,o=Math.min(n,i);a<o&&e[a]===t[a];)++a;return a!==o&&(n=e[a],i=t[a]),n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!_(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new r(0);var n;if(t===undefined)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new r(t),a=0;for(n=0;n<e.length;n++){var o=e[n];o.copy(i,a),a+=o.length}return i},r.byteLength=y,r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):function(e,t,n){var i=!1;if(t|=0,n=n===undefined||n===Infinity?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return P(this,t,n);case"binary":return T(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:r.compare(this,e)},r.prototype.indexOf=function(e,t){if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(r.isBuffer(e))return n(this,e,t);if("number"==typeof e)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);function n(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}throw new TypeError("val must be string, number or Buffer")},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.write=function(e,t,n,i){if(t===undefined)i="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,i===undefined&&(i="utf8")):(i=n,n=undefined);else{var r=i;i=t,t=0|n,n=r}var a=this.length-t;if((n===undefined||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return E(this,e,t,n);case"binary":return I(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function P(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i}function U(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=t;a<n;a++)r+=F(e[a]);return r}function O(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,i,a,o){if(!r.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>a||t<o)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range")}function C(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function $(e,t,n,i,r,a){if(t>r||t<a)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function R(e,t,n,i,r){return r||$(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),f.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,r){return r||$(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),f.write(e,t,n,i,52,8),n+8}r.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=t===undefined?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),r.TYPED_ARRAY_SUPPORT)n=r._augment(this.subarray(e,t));else{var a=t-e;n=new r(a,undefined);for(var o=0;o<a;o++)n[o]=this[o+e]}return n.length&&(n.parent=this.parent||this),n},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},r.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},r.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),f.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),f.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),f.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),f.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||B(this,e,t,n,Math.pow(2,8*n),0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||B(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}var a=0,o=1,s=e<0?1:0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},r.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=e<0?1:0;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var a,o=i-n;if(this===e&&n<t&&t<i)for(a=o-1;a>=0;a--)e[a+t]=this[a+n];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t);return o},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;i<n;i++)this[i]=e;else{var r=J(e.toString()),a=r.length;for(i=t;i<n;i++)this[i]=r[i%a]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=r.prototype;r._augment=function(e){return e.constructor=r,e._isBuffer=!0,e._set=e.set,e.get=q.get,e.set=q.set,e.write=q.write,e.toString=q.toString,e.toLocaleString=q.toString,e.toJSON=q.toJSON,e.equals=q.equals,e.compare=q.compare,e.indexOf=q.indexOf,e.copy=q.copy,e.slice=q.slice,e.readUIntLE=q.readUIntLE,e.readUIntBE=q.readUIntBE,e.readUInt8=q.readUInt8,e.readUInt16LE=q.readUInt16LE,e.readUInt16BE=q.readUInt16BE,e.readUInt32LE=q.readUInt32LE,e.readUInt32BE=q.readUInt32BE,e.readIntLE=q.readIntLE,e.readIntBE=q.readIntBE,e.readInt8=q.readInt8,e.readInt16LE=q.readInt16LE,e.readInt16BE=q.readInt16BE,e.readInt32LE=q.readInt32LE,e.readInt32BE=q.readInt32BE,e.readFloatLE=q.readFloatLE,e.readFloatBE=q.readFloatBE,e.readDoubleLE=q.readDoubleLE,e.readDoubleBE=q.readDoubleBE,e.writeUInt8=q.writeUInt8,e.writeUIntLE=q.writeUIntLE,e.writeUIntBE=q.writeUIntBE,e.writeUInt16LE=q.writeUInt16LE,e.writeUInt16BE=q.writeUInt16BE,e.writeUInt32LE=q.writeUInt32LE,e.writeUInt32BE=q.writeUInt32BE,e.writeIntLE=q.writeIntLE,e.writeIntBE=q.writeIntBE,e.writeInt8=q.writeInt8,e.writeInt16LE=q.writeInt16LE,e.writeInt16BE=q.writeInt16BE,e.writeInt32LE=q.writeInt32LE,e.writeInt32BE=q.writeInt32BE,e.writeFloatLE=q.writeFloatLE,e.writeFloatBE=q.writeFloatBE,e.writeDoubleLE=q.writeDoubleLE,e.writeDoubleBE=q.writeDoubleBE,e.fill=q.fill,e.inspect=q.inspect,e.toArrayBuffer=q.toArrayBuffer,e};var j=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var n;t=t||Infinity;for(var i=e.length,r=null,a=[],o=0;o<i;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Y(e){return l.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/browserify/node_modules/buffer/index.js","/node_modules/browserify/node_modules/buffer")},{_process:11,"base64-js":8,buffer:9,ieee754:12,isarray:10}],10:[function(e,t,n){(function(e,n,i,r,a,o,s,u,c){var d={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==d.call(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/browserify/node_modules/buffer/node_modules/isarray/index.js","/node_modules/browserify/node_modules/buffer/node_modules/isarray")},{_process:11,buffer:9}],11:[function(e,t,n){(function(e,n,i,r,a,o,s,u,c){var d=[],l=!1;function f(){if(!l){var e;l=!0;for(var t=d.length;t;){e=d,d=[];for(var n=-1;++n<t;)e[n]();t=d.length}l=!1}}function _(){}(e=t.exports={}).nextTick=function(e){d.push(e),l||setTimeout(f,0)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=_,e.addListener=_,e.once=_,e.off=_,e.removeListener=_,e.removeAllListeners=_,e.emit=_,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/browserify/node_modules/process/browser.js","/node_modules/browserify/node_modules/process")},{_process:11,buffer:9}],12:[function(e,t,n){(function(e,t,i,r,a,o,s,u,c){n.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,u=(1<<s)-1,c=u>>1,d=-7,l=n?r-1:0,f=n?-1:1,_=e[t+l];for(l+=f,a=_&(1<<-d)-1,_>>=-d,d+=s;d>0;a=256*a+e[t+l],l+=f,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=i;d>0;o=256*o+e[t+l],l+=f,d-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:(_?-1:1)*Infinity;o+=Math.pow(2,i),a-=c}return(_?-1:1)*o*Math.pow(2,a-i)},n.write=function(e,t,n,i,r,a){var o,s,u,c=8*a-r-1,d=(1<<c)-1,l=d>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:a-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=d?(s=0,o=d):o+l>=1?(s=(t*u-1)*Math.pow(2,r),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;e[n+_]=255&s,_+=p,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+_]=255&o,_+=p,o/=256,c-=8);e[n+_-p]|=128*m}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{_process:11,buffer:9}],common_api:[function(e,t,n){(function(n,r,a,o,s,u,c,d,l){var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=e("./api_endpoints"),h=e("./method_endpoints"),g=0,v=null;"undefined"==typeof jiffle?(window.jiffle={},"undefined"!=typeof JNBookMeeting?(jiffle.JNBookMeeting=JNBookMeeting,jiffleSFObj="JNBookMeeting"):"undefined"!=typeof JNEventMeetingList&&(jiffle.JNEventMeetingList=JNEventMeetingList,jiffleSFObj="JNEventMeetingList")):jiffle.hasOwnProperty("JNEventMeetingList")?jiffleSFObj="JNEventMeetingList":jiffle.hasOwnProperty("JNBookMeeting")&&(jiffleSFObj="JNBookMeeting"),$(document).ready(function(){$("#cover").fadeIn(),v=$.urlParam("current_location_uuid"),$(window).on("load",function(){$("#cover").fadeIn()}),$.urlParam=function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)").exec(n);return null==i?"":i[1]||0};var e=y.fetch({url:y.ENDPOINTS.get_nav_header});e.then(function(e){var t=HandlebarsTemplates["sfdc/nav-header"]({headerLinks:e.data.links});$("#sfdc_navbar_set").remove(),!$(".navbar-set-wrapper").length&&$("#sf-jiffle-now").prepend(t)}),e["catch"](function(e){this.showError(e)}.bind(this))});var y={ENDPOINTS:m,update:function(e){e.data&&e.data.constructor===FormData?e.data.append("current_location_uuid",envDetails.current_location_uuid||v):_.merge(e,{data:{current_location_uuid:envDetails.current_location_uuid||v}});var t=new Promise(function(t,n){g++,/^https?/.test(e.url)?e.sfdc_method?y.parseUrlMethod(e,t,n):($("#cover").fadeIn(),y.makeJNCall("doJNPost",JSON.stringify(e),t,n)):y.parseUrlMethod(e,t,n)});return t.then(function(e,t){--g||$("#cover").fadeOut()}.bind(this)),t[t.fail?"fail":"catch"](function(e){--g||$("#cover").fadeOut()}.bind(this)),t},replaceUrlParams:function(){var e=_.cloneDeep(arguments[0]);for("object"!==(void 0===e?"undefined":p(e))&&(e={url:e}),i=1;i<arguments.length;i++)e.url=e.url.replace(arguments[i][0],arguments[i][1]);return e},fetch:function(e){_.merge(e,{data:{current_location_uuid:envDetails.current_location_uuid||v}});var t=new Promise(function(t,n){g++,$("#cover").fadeIn(),e.url&&e.url.includes("/domains/validate")&&(e.url="/portal/domains/validate"),y.parseUrlMethod(e,t,n)});return t.then(function(e){0===--g&&window.setTimeout(function(){0===g&&$("#cover").fadeOut()},500)}.bind(this)),t[t.fail?"fail":"catch"](function(e){0===--g&&$("#cover").fadeOut()}.bind(this)),t},parseUrlMethod:function(e,t,n){var i="";$.isEmptyObject(e.data)||(i="SFDC"===e.url||"/fetch_sfdc_contacts_fields"===e.url?e.data:$.param({api_params:e.data}),"/user/create"!==e.url&&"/group_nomination/can_attend"!==e.url&&"/sync_att_to_sfdc"!==e.url&&"/portal/consent.json"!==e.url||(i=JSON.stringify({api_params:e.data}))),e.prefix&&(e.url=e.prefix+e.url);var r={queryStr:i,url:e.url,eventName:e.url.includes("/portal")?"":$.urlParam("eventName")},a=_.invert(y.ENDPOINTS)[e.url]||e.sfdc_method,o=h[a]||{},s=o.sfdcMethod||"callJNMethod",u=o.params?o.params(e):{},c=_.assign(r,u),d=o.callback;y.makeJNCall(s,c,t,n,d)},makeJNCall:function(e,t,n,i,r){jiffle[jiffleSFObj][e](t,function(e,t){y.handleSessionExpiry(t);var a={responseJSON:{}};"string"!=typeof e&&(e=JSON.stringify(e));var o=JSON.parse(_.unescape(e));200===t.statusCode?(void 0!==r&&o.data&&(o=r(o)),o.status||o.success?200===o.status||o.success?n(o):(a.responseJSON=o,i(a)):o.error&&!_.isEmpty(o.error)?(a.responseJSON=o,i(a)):n(o)):(a.responseJSON=o,i(o))})},hasSessionExpired:function(e){return"exception"===e.type&&e.message&&-1!=e.message.indexOf("Logged in?")},handleSessionExpiry:function(e){var t=function(){return window.location.reload()};y.hasSessionExpired(e)&&(setTimeout(t,3e3),$(".notification-modal").notificationModal({"class":"red",title:"Information",body:"You have been logged out",dismiss:t}))},sfdcHandler:{meetingInit:function(e){var t=y.fetch({url:y.ENDPOINTS.event_env_details});t.then(function(t){window.envDetails={},envDetails.event=t.data.event,envDetails.currentMeetingUuid=t.data.new_meeting_uuid,envDetails.canShowAttachmentsField=!1,envDetails.currentUser=t.data.current_user,envDetails.current_location=t.data.current_location,envDetails.current_location_uuid=t.data.current_location_uuid||v,envDetails.isCSM=function(){return t.data.isCSM},envDetails.isMeetingManager=function(){return t.data.isMeetingManager},envDetails.isEBCEvent=function(){return t.data.isEBCEvent},envDetails.isJuniorMM=function(){return t.data.isJuniorMM},envDetails.isQueueManager=function(){return t.data.isQueueManager},envDetails.isActivityManager=function(){return t.data.isActivityManager},envDetails.isExecutiveAdmin=function(){return t.data.isExecutiveAdmin},window.isEBCEvent=t.data.isEBCEvent,window.event_home_page=!1,this.displayEventName(),this.fetchMeetingActivities(e)}.bind(this)),t["catch"](function(e){this.showError(e)}.bind(this))},fetchMeetingActivities:function(e){var t="";$.urlParam("accid")?t="accFlow":$.urlParam("lead_ids")&&(t="leadFlow"),y.fetch({url:y.ENDPOINTS.fetch_activities,data:{source:t}}).then(function(t){window.activties_attributes=t.data.meeting_types,"function"==typeof e&&e()})},bookMeetingInit:function(e,t){meetingInfo={account_id:"",requestors:[],externalAttendees:{},selectedRequestor:"",domain_validate_url:"",request:{mode:"new",meeting_with:"",custom_fields:{},showCancel:!1}},envDetails={companyName:"",currentManagedUser:"",currentUser:{first_name:"",last_name:""}};var n=y.fetch({url:e.url,data:{activity_uuid:$.urlParam("activity_uuid"),topic_uuid:$.urlParam("topic_uuid")}});n.then(function(n){var i=n;i.hasOwnProperty("data")&&(i=i.data),n.data.current_user.consent_given?($("#sf-jiffle-now").removeClass("hide"),meetingInfo.requestors=i.requestors,meetingInfo.selected_requestor=i.selected_requestor,meetingInfo.domainValidateUrl=i.domain_validate_url,meetingInfo.request=$.extend(meetingInfo.request,i.meeting||i.nomination),meetingInfo.request.topic_management=n.data.topic,window.actions_on_behalf=i.actions_on_behalf,window.isEBCEvent=n.data.isEBCEvent||!1,window.isOngoingSales=n.data.isOngoingSales||!1,window.selectedActivityUuid=$.urlParam("activity_uuid")||n.data.selectedActivityUuid,envDetails.currentMeetingUuid=n.data.new_meeting_uuid,envDetails.canShowAttachmentsField=!1,"edit"===e.mode?(meetingInfo.request.mode=i.mode,meetingInfo.request.showCancel=i.show_cancel_meeting,meetingInfo.request.end_time=moment(meetingInfo.request.end_time).utc().format("DD-MM-YYYY HH:mm"),meetingInfo.request.start_time=moment(meetingInfo.request.start_time).utc().format("DD-MM-YYYY HH:mm"),envDetails.currentMeetingUuid=meetingInfo.request.uuid):"view"===e.mode&&(meetingInfo.request.mode="view",envDetails.currentMeetingUuid=meetingInfo.request.uuid,meetingInfo.request.end_time=moment(meetingInfo.request.end_time).utc().format("DD-MM-YYYY HH:mm"),meetingInfo.request.start_time=moment(meetingInfo.request.start_time).utc().format("DD-MM-YYYY HH:mm")),envDetails.currentManagedUser=i.current_managed_user,envDetails.currentUser=i.current_user,envDetails.role_uuid=i.role_uuid,envDetails.companyName=i.event.company_display_name,envDetails.event=i.event,envDetails.current_location=i.current_location,envDetails.current_location_uuid=i.current_location_uuid||v,envDetails.enable_meeting_host=i.enable_meeting_host,envDetails.meeting_host_label=i.meeting_host_label,envDetails.assign_requestors_as_meeting_host_by_default=i.assign_requestors_as_meeting_host_by_default,envDetails.assign_mapped_user_as_meeting_host_by_default=i.assign_mapped_user_as_meeting_host_by_default,envDetails.isExecutiveAdmin=function(){return i.isExecutiveAdmin},envDetails.isMeetingManager=function(){return i.isMeetingManager},envDetails.isQueueManager=function(){return i.isQueueManager},envDetails.isCSM=function(){return i.isCSM},envDetails.isJuniorMM=function(){return i.isJuniorMM},rails_to_html={activity_name:n.data.selectedActivityName||"",topic_config:{topic_management_enabled:i.topic_management_enabled||!1}},briefing_uuid=i.briefing_uuid||undefined,mappingEnabled=i.mappingEnabled||!1,envDetails.syncContactsToSfdc=i.syncContactsToSfdc||!1,envDetails.syncContactsToSfdcOpportunity=i.syncContactsToSfdcOpportunity||!1,envDetails.syncLeadsToSfdc=i.syncLeadsToSfdc||!1,envDetails.hideOpportunityInAccountsFlow=i.hideOpportunityInAccountsFlow||!1,envDetails.hideOpportunityInJNMeetingFlow=i.hideOpportunityInJNMeetingFlow||!1,envDetails.showJifflenowExternalAttendees=i.showAllExternalAttendees||i.showRegisteredExternalAttendees||!1,envDetails.topicManagementEnabled=i.topic_management_enabled||!1,envDetails.topicRoomMappingEnabled=i.topic_room_mapping_enabled||!1,envDetails.topicUserMappingEnabled=i.topic_user_mapping_enabled||!1,envDetails.topicActivitiesMappingEnabled=i.topic_activities_mapping_enabled||!1,envDetails.allowUserToAddNewExternalAttendee=i.allowUserToAddNewExternalAttendee||!1,envDetails.allowRequestorToAddInternalAttendee=i.allowRequestorToAddInternalAttendee||!1,envDetails.canUserChangeSelfAttendance=i.can_user_change_self_attendance||!1,envDetails.briefingAndMeetingRequestorSame=i.briefingAndMeetingRequestorSame,envDetails.capture_consent=i.capture_consent,envDetails.consent_mandatory=i.consent_mandatory,envDetails.add_user_consent_message=i.add_user_consent_message,envDetails.can_edit_time=i.can_edit_briefing_meeting_time,bam_uuid=i.bam_uuid,window.masterMeetingType=i.meeting_type_master,window.bookSession=i.book_session,window.TRACK_AND_SESSION=i.TRACK_AND_SESSION,window.nominationInfo=meetingInfo,window.mapping_module=!1,window.selectedActivityName=n.data.selectedActivityName,envDetails.sfdcCustomLabels=n.data.sfdc_custom_labels,this.displayEventName(),this.displayConsentCheck(i),this.mergeExternalAttendeesInfoFromSF().then(function(){return t()})):this.showConsentForm(n.data)}.bind(this)),n["catch"](function(e){this.showError(e)}.bind(this))},displayConsentCheck:function(){var e=$(".js-termsandcondition");envDetails.capture_consent&&e.removeClass("hide"),envDetails.consent_mandatory&&e.addClass("required"),envDetails.add_user_consent_message&&e.find("label.add_user_consent_message").html(envDetails.add_user_consent_message)},displayEventName:function(){$(".js-event-display-name").text(envDetails.event.name)},fetchLeadDetails:function(){var e=unescape($.urlParam("lead_ids")).split(","),t=this.fetchLeadsDetailsFromSF(e);return t.then(function(e){meetingInfo.request.users={internal:[],external:e.data.items}}),t},EventInit:function(e){var t=y.fetch({url:y.ENDPOINTS.user_info});t.then(function(t){t.data.current_user.consent_given?($("#sf-jiffle-now").removeClass("hide"),window.envDetails={},window.isEBCEvent=t.data.isEBCEvent||!1,envDetails.currentUser=t.data.current_user,envDetails.isCSM=function(){return t.data.isCSM},envDetails.isMeetingManager=function(){return t.data.isMeetingManager},envDetails.isAccountManager=function(){return t.data.isAccountManager},_.isEmpty($.urlParam("lead_ids"))&&"leadFlow"!==$.urlParam("source")?e():this.validateLeads(e)):this.showConsentForm(t.data)}.bind(this)),t["catch"](function(e){this.showError(e)}.bind(this))},validateLeads:function(e){y.fetch({url:y.ENDPOINTS.validate_leads,data:{leadIds:unescape($.urlParam("lead_ids")).split(",")}}).then(function(t){t.data.is_valid?e():$(".notification-modal").notificationModal({"class":"red",title:"Information",body:t.data.message,dismiss:function(){commons.redirectPage(t.data.redirect_url)}})})},showConsentForm:function(t){$("#sf-jiffle-consent").removeClass("hide"),e("../../Consent/app")(t)},showError:function(e){var t=[];t=e.responseJSON.error&&"string"==typeof e.responseJSON.error?[e.responseJSON.error]:_.flatten(_.values(e.responseJSON.errors)),$(".notification-modal").notificationModal({"class":"red",timeout:!0,title:"Information",body:t.join(", ")}),$("#cover").fadeOut()},mergeExternalAttendeesInfoFromSF:function(){var e=this,t=window.meetingInfo.request,n=t.users||{};return new Promise(function(i,r){n.external&&n.external.length?_.isEmpty(t.custom_fields&&t.custom_fields.meeting_lead_id)?e.mergeContacts().then(function(){return i()}):e.mergeLeads().then(function(){return i()}):i()})},mergeContacts:function(){var e=this,t=this.getContactIds(),n=window.meetingInfo.request;return new Promise(function(i,r){t.length?e.fetchContactsDetailsFromSF({contactIds:t,accountID:n.custom_fields&&n.custom_fields.meeting_account_id}).then(function(t){return e.mergeExtAttWithInfoFromSF(t.data.items)}).then(function(){return i()}):i()})},mergeLeads:function(){var e=this,t=this.getLeadIds();return new Promise(function(n,i){t.length?e.fetchLeadsDetailsFromSF(t).then(function(t){return e.mergeExtAttWithInfoFromSF(t.data.items)}).then(function(){return n()}):n()})},fetchLeadsDetailsFromSF:function(e){return y.fetch({url:y.ENDPOINTS.lead_details,data:{leadIds:e}})},fetchContactsDetailsFromSF:function(e){var t=e.contactIds,n=e.accountID;return y.fetch({url:y.ENDPOINTS.fetch_contacts,data:{contactIds:t,account_id:n}})},mergeExtAttWithInfoFromSF:function(e){return new Promise(function(t,n){var i=_.groupBy(e,"email"),r=window.meetingInfo.request.users.external;window.meetingInfo.request.users.external=r.map(function(e){var t=i[e.email];return t&&(e=f({},e,t[0])),e}),t()})},getLeadIds:function(){return this.getContOrLeadIds("sfdc_lead_id")},getContactIds:function(){return this.getContOrLeadIds("sfdc_contact_id")},getContOrLeadIds:function(e){return window.meetingInfo.request.users.external.map(function(t){return t.meta_info&&t.meta_info[e]}).filter(function(e){return e!==undefined})}}};t.exports=y}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/app/scripts/commons/sfdc/api.js","/app/scripts/commons/sfdc")},{"../../Consent/app":2,"./api_endpoints":6,"./method_endpoints":7,_process:11,buffer:9}]},{},[1]);